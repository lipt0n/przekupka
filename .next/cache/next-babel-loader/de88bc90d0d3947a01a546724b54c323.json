{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/mjl/makeMeRich/src/ui/topbar.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useReducer } from 'react';\nimport { Toolbar } from 'primereact/toolbar';\nimport { Button } from 'primereact/button';\nimport { initialState, reducer } from './store';\nimport axios from 'axios';\nexport default _s(function () {\n  _s();\n\n  var _useReducer = useReducer(reducer, initialState),\n      store = _useReducer[0],\n      dispatch = _useReducer[1];\n\n  useEffect(function () {\n    return console.log(\"first console log\");\n  });\n  useEffect(function () {\n    console.log(\"USE EFFECT\");\n    var intervalPid = setInterval( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var balance;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return axios.get('/balance');\n\n            case 2:\n              balance = _context.sent;\n              console.log(balance.data);\n              dispatch({\n                type: \"SET_BALANCE\",\n                payload: balance.data\n              });\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    })), 1000);\n    return function () {\n      return clearInterval(intervalPid);\n    };\n  });\n\n  var leftContents = function leftContents() {\n    return /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: Object.entries(store.balance).map(function (_ref2) {\n        var _ref3 = _slicedToArray(_ref2, 2),\n            coin = _ref3[0],\n            value = _ref3[1];\n\n        return /*#__PURE__*/_jsxDEV(Button, {\n          label: coin,\n          icon: \"pi pi-plus\",\n          className: \"p-mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 21,\n          columnNumber: 65\n        }, _this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 9\n    }, _this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Toolbar, {\n    left: leftContents\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 8\n  }, _this);\n}, \"tF/b1G+Sa1NaSYyWCFY1WLXqomo=\");","map":{"version":3,"sources":["/home/mjl/makeMeRich/src/ui/topbar.tsx"],"names":["React","useEffect","useReducer","Toolbar","Button","initialState","reducer","axios","store","dispatch","console","log","intervalPid","setInterval","get","balance","data","type","payload","clearInterval","leftContents","Object","entries","map","coin","value"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,UAA3B,QAA6C,OAA7C;AACA,SAASC,OAAT,QAAwB,oBAAxB;AACA,SAASC,MAAT,QAAuB,mBAAvB;AACA,SAAQC,YAAR,EAAqBC,OAArB,QAAmC,SAAnC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,kBAAe,YAAI;AAAA;;AAAA,oBACWL,UAAU,CAACI,OAAD,EAAUD,YAAV,CADrB;AAAA,MACRG,KADQ;AAAA,MACDC,QADC;;AAEfR,EAAAA,SAAS,CAAC;AAAA,WAAIS,OAAO,CAACC,GAAR,CAAY,mBAAZ,CAAJ;AAAA,GAAD,CAAT;AACAV,EAAAA,SAAS,CAAC,YAAI;AACVS,IAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACA,QAAMC,WAAW,GAAGC,WAAW,wEAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACNN,KAAK,CAACO,GAAN,CAAU,UAAV,CADM;;AAAA;AACtBC,cAAAA,OADsB;AAE5BL,cAAAA,OAAO,CAACC,GAAR,CAAYI,OAAO,CAACC,IAApB;AACAP,cAAAA,QAAQ,CAAC;AAACQ,gBAAAA,IAAI,EAAC,aAAN;AAAqBC,gBAAAA,OAAO,EAACH,OAAO,CAACC;AAArC,eAAD,CAAR;;AAH4B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAD,IAI7B,IAJ6B,CAA/B;AAKA,WAAO;AAAA,aAAIG,aAAa,CAACP,WAAD,CAAjB;AAAA,KAAP;AACH,GARQ,CAAT;;AASA,MAAMQ,YAAY,GAAG,SAAfA,YAAe;AAAA,wBACjB,QAAC,KAAD,CAAO,QAAP;AAAA,gBACKC,MAAM,CAACC,OAAP,CAAed,KAAK,CAACO,OAArB,EAA8BQ,GAA9B,CAAmC;AAAA;AAAA,YAAEC,IAAF;AAAA,YAAOC,KAAP;;AAAA,4BAAgB,QAAC,MAAD;AAAQ,UAAA,KAAK,EAAED,IAAf;AAAqB,UAAA,IAAI,EAAC,YAA1B;AAAuC,UAAA,SAAS,EAAC;AAAjD;AAAA;AAAA;AAAA;AAAA,iBAAhB;AAAA,OAAnC;AADL;AAAA;AAAA;AAAA;AAAA,aADiB;AAAA,GAArB;;AAMJ,sBAAO,QAAC,OAAD;AAAS,IAAA,IAAI,EAAEJ;AAAf;AAAA;AAAA;AAAA;AAAA,WAAP;AAEC,CApBD","sourcesContent":["import React, { useEffect, useReducer } from 'react'\nimport { Toolbar } from 'primereact/toolbar'\nimport { Button } from 'primereact/button'\nimport {initialState,reducer} from './store'\nimport axios from 'axios'\n\nexport default ()=>{\n    const [store, dispatch] = useReducer(reducer, initialState)\n    useEffect(()=>console.log(\"first console log\"))\n    useEffect(()=>{\n        console.log(\"USE EFFECT\")\n        const intervalPid = setInterval(async ()=>{\n            const balance = await axios.get('/balance')\n            console.log(balance.data)\n            dispatch({type:\"SET_BALANCE\", payload:balance.data})\n        },1000)\n        return ()=>clearInterval(intervalPid)\n    })\n    const leftContents = ()=> (\n        <React.Fragment>\n            {Object.entries(store.balance).map( ([coin,value])=><Button label={coin} icon=\"pi pi-plus\" className=\"p-mr-2\" /> ) }\n        </React.Fragment>\n    )\n\nreturn <Toolbar left={leftContents} />\n\n}"]},"metadata":{},"sourceType":"module"}